<br><br><br><br>
<div class="container">
    <div class="table-wrapper">
      <div class="table-title">
        <div class="row">
          <div class="col-sm-6">
            <h2>ADMINISTRACIÓN</b></h2>
          </div>
          <div class="col-sm-6">
            <a href="#addEmployeeModal" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>Añadir</span></a>
          </div>
        </div>
      </div>
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Institucion</th>
            <th>Acción</th>
          </tr>
        </thead>
        <tbody>
            <%
                var id = 0
                directorio.forEach( dir => { 
                id++
            %>
                <tr>
                
                <td id="<%= id %>-nombre"><%= dir.nombre %></td>
                <td id="<%= id%>-institucion"><%= dir.institucion %></td>
                <td>
                <a href="#editEmployeeModal" data-id="<%= id %>" class="edit Modal" data-toggle="modal">editar<i  data-toggle="tooltip" title="Edit">&#xE254;</i></a>
                <a href="#deleteEmployeeModal" data-id="<%= id %>"class="delete Modal" data-toggle="modal">eliminar<i  data-toggle="tooltip" title="Delete">&#xE872;</i></a>
                </td>
                </tr>
            <%
                });
            %>

          


        </tbody>
      </table>
      <div class="clearfix">
        <div class="hint-text"> <b>5</b> de <b>25</b> Elementos</div>
        <ul class="pagination">
          <li class="page-item disabled"><a href="#">Anterior</a></li>
          <li class="page-item"><a href="#" class="page-link">1</a></li>
          <li class="page-item"><a href="#" class="page-link">2</a></li>
          <li class="page-item active"><a href="#" class="page-link">3</a></li>
          <li class="page-item"><a href="#" class="page-link">4</a></li>
          <li class="page-item"><a href="#" class="page-link">5</a></li>
          <li class="page-item"><a href="#" class="page-link">Siguiente</a></li>
        </ul>
      </div>
    </div>
  </div>
  <!-- Edit Modal HTML -->
  <div id="addEmployeeModal" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <form action="/directorio" method="POST" enctype="multipart/form-data">
          <div class="modal-header">
            <h4 class="modal-title">Añadir</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label>Nombre</label>
              <input type="text" name="nombre" class="form-control" required>
            </div>
            <div class="form-group">
              <label>Institucion</label>
              <input type="text" name="institucion" class="form-control" required>
            </div>
          </div>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
            <input type="submit" class="btn btn-success" value="Add">
          </div>
        </form>
      </div>
    </div>
  </div>
  <!-- Edit Modal HTML -->
  <div id="editEmployeeModal" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <form action="/directorio/edit" method="POST" enctype="multipart/form-data">
          <div class="modal-header">
            <h4 class="modal-title">Editar</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label>Nombre</label>
              <input type="text" class="form-control" id="nombre" name="nombre" value="" required>
            </div>
            <div class="form-group">
              <label>Institución</label>
              <input type="text" class="form-control" id="institucion" name="institucion" value="" required>
            </div>
          </div>
          <input hidden type="text" class="form-control" name="ant-nombre" id="ant-nombre" value="" required>
          <input hidden type="text" class="form-control" name="ant-inst" id="ant-inst" value="" required>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
            <input type="submit" class="btn btn-info" value="Save">
          </div>
        </form>
      </div>
    </div>
  </div>
  <!-- Delete Modal HTML -->
  <div id="deleteEmployeeModal" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <form action="/directorio/del" method="POST" enctype="multipart/form-data">
          <div class="modal-header">
            <h4 class="modal-title">Eliminar</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <p>¿Está seguro de eliminar el elemento?</p>
            <input type="text" val="" id="del-nombre" disabled>
            <input type="text" val="" id="del-institucion"disabled>
            <input hidden type="text" val="" id="del-nombre-h" name="nombre">
            <input hidden type="text" val="" id="del-institucion-h" name="institucion">

            <p class="text-warning"><small>Esta acción será permanente.</small></p>
          </div>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
            <input type="submit" class="btn btn-danger" value="Delete">
          </div>
        </form>
      </div>
    </div>
  </div>

  

  <script>
    $(document).on("click", ".Modal", function () {
        var id = $(this).data('id');       
        var myName = $("#" + id + "-nombre");
        var myInst = $("#" + id + "-institucion");
        console.log(id)
        // As pointed out in comments, 
        $("#institucion").val( myInst.text() );
        $("#ant-inst").val( myInst.text() );
        $("#nombre").val( myName.text() );
        $("#ant-nombre").val( myName.text() );
        $("#del-institucion").val( myInst.text() );
        $("#del-nombre").val( myName.text() );
        $("#del-institucion-h").val( myInst.text() );
        $("#del-nombre-h").val( myName.text() );
        // it is unnecessary to have to manually call the modal.
        // $('#addBookDialog').modal('show');
    });  


    
  </script>
  <script src="assets/js/jquery-min.js"></script>
    <script src="assets/js/admin.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/img.js"></script>